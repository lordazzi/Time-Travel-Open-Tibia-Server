<?php# AUTHOR: RICARDO AZZI ## CREATED: 04/10/12 #class Vocations {	private $vocations = "";		private $vocations_array = "";	private $vocations_json = "";		private $vocations_attr_array = "";	private $vocations_attr_json = "";		public function __construct() {		$this->vocations = new Xml($GLOBALS["SERVER_PATH"]."data/XML/vocations.xml");		$this->vocations_array = $this->vocations->getArray();		$this->vocations_json = json_encode($this->vocations_array);	}		public function getVocations($format = "json") {		if (strtolower($format) == "json" OR strtolower($format) == "js") {			return $this->vocations_json;		} else if (strtolower($format) == "xml") {			return $this->vocations->getXml();		} else {			return $this->vocations_array;		}	}		public function getAttributes($format = "json") {		if ($this->vocations_attr_array == "" OR $this->vocations_attr_json == "") {			$arr = array();			for ($i = 0; $i < count($this->vocations_array["vocation"]); $i++) {				$arr[$i] = $this->vocations_array["vocation"][$i]["@attributes"];			}			$this->vocations_attr_array = $arr;			$this->vocations_attr_json = json_encode($arr);		}				if (strtolower($format) == "json" OR strtolower($format) == "js") {			return $this->vocations_attr_json;		} else {			return $this->vocations_attr_array;		}	}		public function getVocation($index = 0, $format = "json") {		$arr = $this->vocations_array["vocation"];		if (strtolower($format) == "json" OR strtolower($format) == "js") {			return json_encode($arr[$index]);		} else {			return $arr[$index];		}	}		public function getFormula($index = 0, $format = "json") {		$arr = $this->getVocation($index, "array");		$arr = select_array($arr, "formula");		$arr["formula"] = $arr["formula"]["@attributes"];				if (strtolower($format) == "json" OR strtolower($format) == "js") {			return json_encode($arr);		} else {			return $arr;		}	}		public function getSkills($index = 0, $format = "json") {		$arr = $this->getVocation($index, "array");		$arr = select_array($arr, "skill");		foreach($arr["skill"] as &$skill) {			$skill = $skill["@attributes"];		}				if (strtolower($format) == "json" OR strtolower($format) == "js") {			return json_encode($arr);		} else {			return $arr;		}	}}?>